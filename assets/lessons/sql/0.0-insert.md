# Records

How to create new records

## Add a new row/record to a table

```sql

INSERT INTO employees (name, surname, hire_date) VALUES ("Loi", "Tran", DATE('now'),)
```

## Update a row in a table.

```
UPDATE employees
SET
title = "CEO",
birth_date = DATE('now', '-21 years'),
hire_date = DATE('now'),
city = "San Francisco",
state = "Florida",
country = "USA",
email = "loi@seepdeep.com"
WHERE employee_id = 1;
```

## Update part of a field using a wildcard

```sql
UPDATE employees
SET email = REPLACE(email, SUBSTR(email, INSTR(email, '@')), '@seepdeep.com')
WHERE email LIKE '%@chinookcorp.com';
```

## Update part of a field using a wildcard

```sql
UPDATE employees
SET reports_to = 1
WHERE employee_id > 8;
```

## Insert a list of records

```sql
INSERT INTO employees (name, surname, hire_date, email)
VALUES
    ('Charles', 'Lee', DATE('now'), "charles@seepdeep.com"),
    ('Michael', 'Do', DATE('now'), "michael@seepdeep.com"),
    ('Ben', 'Dao', DATE('now'), "ben@seepdeep.com"),
    ('Peter', 'Nguyen', DATE('now'), "peter@seepdeep.com"),
    ('Thuy', 'Dao', DATE('now'), "thuy@seepdeep.com"),
    ('Uyen', 'Nguyen', DATE('now'), "uyen@seepdeep.com"),
    ('Thanh', 'Luu', DATE('now'), "thanh@seepdeep.com"),
    ('Thuy', 'Linh', DATE('now'), "thanh@seepdeep.com"),
    ('Sang', 'Nguyen', DATE('now'), "sang@seepdeep.com")
```

## Random Birthdates

```sql
UPDATE employees
SET birth_date = DATE(strftime('%s', 'now') - (ABS(RANDOM()) % (60 * 365 * 24 * 60 * 60)), 'unixepoch');
```

## Update employees who are younger than 21 years

```
UPDATE employees
SET birth_date = DATE(strftime('%s', 'now') - (ABS(RANDOM()) % ((60 - 21) * 365 * 24 * 60 * 60)), 'unixepoch')
WHERE birth_date > DATE('now', '-21 years');
```

## Update age field based on current birth_date

```sql
UPDATE employees
SET age = (strftime('%Y', 'now') - strftime('%Y', birth_date)) - (strftime('%m-%d', 'now') < strftime('%m-%d', birth_date));
```

## Select

```sql
select name, birth_date, age from employees;
```
